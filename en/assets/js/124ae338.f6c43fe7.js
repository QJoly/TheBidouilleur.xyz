"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3127],{4137:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>d});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),o=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=o(e.components);return a.createElement(u.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),m=o(n),d=r,h=m["".concat(u,".").concat(d)]||m[d]||c[d]||i;return n?a.createElement(h,s(s({ref:t},p),{},{components:n})):a.createElement(h,s({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,s=new Array(i);s[0]=m;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:r,s[1]=l;for(var o=2;o<i;o++)s[o]=n[o];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},5284:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>u,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(4137)),i=n(3992),s=n(425);const l={slug:"ipfs",title:"IPFS - un protocole pour archiver et partager des fichiers",authors:{name:"TheBidouilleur",title:"Adorateur de trucs merdiques",url:"https://github.com/qjoly/",image_url:"https://avatars.githubusercontent.com/u/82603435?v=4"},tags:["Stockage"],description:"Via cette page, vous d\xe9couvrirez ce qu'est l'IPFS et comment partager vos fichiers pour qu'ils deviennent incensurables et d\xe9centralis\xe9s"},u=void 0,o={permalink:"/TheBidouilleur.xyz/en/blog/ipfs",editUrl:"https://github.com/QJoly/TheBidouilleur.xyz/tree/main/blog/2023-05-16-ipfs/index.md",source:"@site/blog/2023-05-16-ipfs/index.md",title:"IPFS - un protocole pour archiver et partager des fichiers",description:"Via cette page, vous d\xe9couvrirez ce qu'est l'IPFS et comment partager vos fichiers pour qu'ils deviennent incensurables et d\xe9centralis\xe9s",date:"2023-05-16T00:00:00.000Z",formattedDate:"May 16, 2023",tags:[{label:"Stockage",permalink:"/TheBidouilleur.xyz/en/blog/tags/stockage"}],readingTime:13.185,hasTruncateMarker:!1,authors:[{name:"TheBidouilleur",title:"Adorateur de trucs merdiques",url:"https://github.com/qjoly/",image_url:"https://avatars.githubusercontent.com/u/82603435?v=4",imageURL:"https://avatars.githubusercontent.com/u/82603435?v=4"}],frontMatter:{slug:"ipfs",title:"IPFS - un protocole pour archiver et partager des fichiers",authors:{name:"TheBidouilleur",title:"Adorateur de trucs merdiques",url:"https://github.com/qjoly/",image_url:"https://avatars.githubusercontent.com/u/82603435?v=4",imageURL:"https://avatars.githubusercontent.com/u/82603435?v=4"},tags:["Stockage"],description:"Via cette page, vous d\xe9couvrirez ce qu'est l'IPFS et comment partager vos fichiers pour qu'ils deviennent incensurables et d\xe9centralis\xe9s"},nextItem:{title:"Simple DebianRepository - D\xe9ployer un d\xe9p\xf4t Debian en 2min",permalink:"/TheBidouilleur.xyz/en/blog/DebianRepository"}},p={authorsImageUrls:[void 0]},c=[{value:"Comment acc\xe9der \xe0 un fichier ?",id:"comment-acc\xe9der-\xe0-un-fichier-",level:2},{value:"Cas d&#39;usages",id:"cas-dusages",level:2},{value:"Cycle de vie d&#39;un fichier",id:"cycle-de-vie-dun-fichier",level:2},{value:"Installer un client IPFS",id:"installer-un-client-ipfs",level:2},{value:"L&#39;IPFS en pratique",id:"lipfs-en-pratique",level:2},{value:"R\xe9cup\xe9rer un fichier sur le r\xe9seau IPFS sans client",id:"r\xe9cup\xe9rer-un-fichier-sur-le-r\xe9seau-ipfs-sans-client",level:2},{value:"H\xe9berger une passerelle IPFS",id:"h\xe9berger-une-passerelle-ipfs",level:2},{value:"D\xe9p\xf4t Git en IPFS",id:"d\xe9p\xf4t-git-en-ipfs",level:2},{value:"Conclusion",id:"conclusion",level:2},{value:"Liens en vrac",id:"liens-en-vrac",level:3}],m={toc:c};function d(e){let{components:t,...l}=e;return(0,r.kt)("wrapper",(0,a.Z)({},m,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"L'IPFS ",(0,r.kt)("em",{parentName:"p"},"(InterPlanetary File System)")," est un protocole ",(0,r.kt)("strong",{parentName:"p"},"P2P")," ",(0,r.kt)("em",{parentName:"p"},"(Peer to Peer)")," permettant de diffuser des fichiers de mani\xe8re d\xe9centralis\xe9e."),(0,r.kt)("p",null,"La mention \"InterPlanetary\" nous donne l'objectif premier de l'IPFS : surmonter les difficult\xe9s techniques et les contraintes de la communication entre plan\xe8tes."),(0,r.kt)("p",null,"En effet, le jour o\xf9 Mars sera colonis\xe9, le web devra s'adapter pour permettre \xe0 tous de pouvoir acc\xe9der au m\xeame internet. Car si nous arrivons \xe0 afficher Wikip\xe9dia en quelques millisecondes sur nos ordinateurs, ",(0,r.kt)("strong",{parentName:"p"},"4min")," seront n\xe9cessaires depuis Mars ",(0,r.kt)("em",{parentName:"p"},"dans les meilleures conditions")," et ",(0,r.kt)("strong",{parentName:"p"},"48 min")," ",(0,r.kt)("em",{parentName:"p"},"si vous \xeates malchanceux"),"."),(0,r.kt)("p",null,"Et ces 48 minutes serviront uniquement \xe0 afficher ",(0,r.kt)("strong",{parentName:"p"},"une seule page"),", imaginez alors pour une vid\xe9o YouTube ou une s\xe9rie."),(0,r.kt)("p",null,"Et c'est \xe0 ce moment pr\xe9cis que l'IPFS entre en sc\xe8ne. Comme c'est un syst\xe8me de partage de fichiers entre ordinateurs qui fonctionne ",(0,r.kt)("strong",{parentName:"p"},"sans serveurs centraux"),", il ne sera pas toujours n\xe9cessaire de communiquer avec un serveur terrien pour lire une page web. Il suffira de demander \xe0 un ordinateur proche de nous d'envoyer le fichier."),(0,r.kt)("p",null,"Ce protocole est un m\xe9lange entre le ",(0,r.kt)("em",{parentName:"p"},"World Wide Web")," et Bit Torrent avec lequel un m\xeame fichier peut \xeatre partag\xe9 par plusieurs ordinateurs. Le r\xe9seau IPFS est donc une carte depuis laquelle nous allons demander un fichier (ou site) et le t\xe9l\xe9charger depuis un serveur qui n'est pas forc\xe9ment le serveur dont provient la donn\xe9e."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.reddit.com/r/ipfs/comments/q76uil/what_is_ipfs_what_does_it_mean_for_the_internet/"},(0,r.kt)("img",{alt:"Explication R\xe9seau IPFS d\xe9centralisation",src:n(9776).Z,width:"698",height:"354"}))),(0,r.kt)("h2",{id:"comment-acc\xe9der-\xe0-un-fichier-"},"Comment acc\xe9der \xe0 un fichier ?"),(0,r.kt)("p",null,"En Web classique, nous demandons \xe0 un serveur un fichier sp\xe9cifique via une URL qui renvoie vers un fichier sp\xe9cifique. Si jamais nous revenons plus tard : le fichier ne sera pas forc\xe9ment le m\xeame."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Demande de fichier sur le web classique",src:n(9760).Z,width:"424",height:"225"})),(0,r.kt)("p",null,"En IPFS, nous allons directement demander un fichier \xe0 partir d'un identifiant qui se base sur son contenu : un ",(0,r.kt)("strong",{parentName:"p"},"CID")," ",(0,r.kt)("em",{parentName:"p"},"(Content Identifier)"),", c'est un Hash unique permettant d'identifier votre donn\xe9e."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Demander de fichier en IPFS",src:n(2714).Z,width:"651",height:"311"})),(0,r.kt)("p",null,"D\xe8s lors que nous envoyons un fichier dans le r\xe9seau IPFS, nous obtenons un CID qui pointe vers celui-ci. Ce CID est calcul\xe9 en fonction de l'empreinte unique du fichier, et le CID est alt\xe9r\xe9 si le fichier est modifi\xe9."),(0,r.kt)("p",null,"En lisant un fichier depuis le r\xe9seau IPFS, nous avons la preuve qu'il n'est pas ",(0,r.kt)("strong",{parentName:"p"},"censur\xe9")," et qu'il est immuable."),(0,r.kt)("h2",{id:"cas-dusages"},"Cas d'usages"),(0,r.kt)("p",null,"J'ai d\xe9couvert l'IPFS via le site ",(0,r.kt)("em",{parentName:"p"},"Libgen"),", un moteur de recherche d'articles scientifiques. Le site officiel d\xe9taille un peu plus les diff\xe9rentes raisons d'utiliser ce r\xe9seau:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Archiver des donn\xe9es publiques sur le long terme : L'IPFS est un moyen fiable de transmettre des donn\xe9es aux g\xe9n\xe9rations futures en la d\xe9centralisant et en donnant l'opportunit\xe9 aux utilisateurs lisant vos donn\xe9es de les repartager."),(0,r.kt)("li",{parentName:"ul"},"H\xe9berger un site sans serveur : Depuis votre laptop, vous pouvez h\xe9berger un site qui sera h\xe9berg\xe9 (/repartag\xe9) par le nombre de lecteur qui acc\xe8de \xe0 votre site."),(0,r.kt)("li",{parentName:"ul"},"Partager de gros fichiers : Les fichiers IPFS sont s\xe9par\xe9s en blocs, vous pouvez alors partager de grands volumes via l'IPFS et t\xe9l\xe9charger les blocs en parall\xe8le depuis diff\xe9rents serveurs. ",(0,r.kt)("em",{parentName:"li"},"(comme BitTorrent)")),(0,r.kt)("li",{parentName:"ul"},"Rendre votre contenu incensurable : Comme chaque fichier s'acc\xe8de via un Hash unique, vous avez constamment la preuve que le fichier n'est pas alt\xe9r\xe9 par un hackeur ou une organisation."),(0,r.kt)("li",{parentName:"ul"},"Partager du contenu Offline sur votre r\xe9seau : Le partage peut se faire sans acc\xe8s \xe0 Internet, les clients IPFS se d\xe9couvrent sur un r\xe9seau local et peuvent continuer \xe0 relayer les fichiers en cache.")),(0,r.kt)("h2",{id:"cycle-de-vie-dun-fichier"},"Cycle de vie d'un fichier"),(0,r.kt)("p",null,"Si je souhaite envoyer mon image de profil dans le r\xe9seau IPFS, celle-ci va \xeatre s\xe9par\xe9e en plusieurs parties de (maximum) 256 ko. Nous calculons ensuite un Hash unique pour chaque morceau, et nous les combinons pour cr\xe9er le ",(0,r.kt)("strong",{parentName:"p"},"CID")," du fichier complet."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Envoi d&#39;un fichier vers IPFS",src:n(8755).Z,width:"937",height:"320"})),(0,r.kt)("p",null,"Le CID est alors une entit\xe9 qui contient les diff\xe9rents Hash des morceaux de ~256 ko permettant de reconstituer le fichier d'origine."),(0,r.kt)("p",null,"Le fait de s\xe9parer un fichier en plusieurs blocs permet de faire de la ",(0,r.kt)("strong",{parentName:"p"},"d\xe9duplication"),". Si je stocke de nouveau mon image en ayant modifi\xe9 que le haut du png : je peux r\xe9utiliser les blocs identiques et n'ajouter que la diff\xe9rence en IPFS. Le CID sera quand m\xeame diff\xe9rent ",(0,r.kt)("em",{parentName:"p"},"(le hash des premiers blocs seront modifi\xe9s)"),"."),(0,r.kt)("p",null,"Il est donc possible de reconstituer un fichier complet en utilisant les parties pr\xe9sentes dans le r\xe9seau IPFS."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"R\xe9cup\xe9rer un fichier IPFS \xe0 partir du CID",src:n(3568).Z,width:"1113",height:"649"})),(0,r.kt)("h2",{id:"installer-un-client-ipfs"},"Installer un client IPFS"),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://ipfs.io/ipfs/bafykbzacecaesuqmivkauix25v6i6xxxsvsrtxknhgb5zak3xxsg2nb4dhs2u/ipfs.go.png",alt:"Kubo Logo"})),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/ipfs/kubo"},"Kubo")," est l'utilitaire le plus connu et le plus utilis\xe9 pour communiquer en IPFS. Il est \xe9crit en ",(0,r.kt)("strong",{parentName:"p"},"Golang")," et peut s'utiliser en ligne de commande, ou via une interface web."),(0,r.kt)("p",null,"Il s'installe de mani\xe8re assez simple :"),(0,r.kt)(i.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"Alpine",label:"Alpine",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"apk add kubo\n"))),(0,r.kt)(s.Z,{value:"Build \xe0 partir du code",label:"Build \xe0 partir du code",default:!0,mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"git clone https://github.com/ipfs/kubo.git\ncd kubo\nmake install\n"))),(0,r.kt)(s.Z,{value:"Nix",label:"Nix",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"nix-env -i kubo -v\n"))),(0,r.kt)(s.Z,{value:"T\xe9l\xe9charger Binaire",label:"Binaire",mdxType:"TabItem"},(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"wget https://dist.ipfs.tech/kubo/v0.20.0/kubo_v0.20.0_linux-amd64.tar.gz\ntar xvfz kubo_v0.20.0_linux-amd64.tar.gz\n./install.sh\n")))),(0,r.kt)("p",null,"N'appr\xe9ciant pas l'usage d'interfaces webs, je vais uniquement pr\xe9senter l'utilitaire en ligne de commande. L'interface web est disponible sur le port 5001 de votre machine et n'apporte pas de fonctionnalit\xe9s suppl\xe9mentaires."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Interface web de Kubo",src:n(717).Z,width:"1461",height:"1098"})),(0,r.kt)("h2",{id:"lipfs-en-pratique"},"L'IPFS en pratique"),(0,r.kt)("p",null,"Je dispose de 2 machines virtuelles sur lesquelles j'ai install\xe9 Kubo."),(0,r.kt)("p",null,"Premi\xe8re chose que nous pouvons faire, c'est de stocker un fichier sur le r\xe9seau IPFS. La commande est simple : ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs add <fichier>"),". Cette commande va nous retourner un CID qui correspond \xe0 notre fichier. Ce CID est unique et permet de retrouver notre fichier sur le r\xe9seau IPFS."),(0,r.kt)("p",null,"Avant tout, chacune des machines aura initialis\xe9 son client IPFS avec la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs init"),". Cela permet de cr\xe9er un dossier ",(0,r.kt)("inlineCode",{parentName:"p"},".ipfs")," dans le dossier utilisateur de la machine."),(0,r.kt)("p",null,"Je cr\xe9e un fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.txt")," avec le contenu ",(0,r.kt)("em",{parentName:"p"},'"Bonjour !"'),". L'utilitaire ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs add")," ajoute ce fichier sur notre n\u0153ud IPFS."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 1\n\u279c ipfs add hello.txt \nadded QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11 hello.txt\n")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 2\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\nError: block was not found locally (offline): ipld: could not find QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\n")),(0,r.kt)("p",null,"La raison ? C'est simple : ",(0,r.kt)("strong",{parentName:"p"},"Aucune des machines n'est reli\xe9e au r\xe9seau IPFS.")," !"),(0,r.kt)("p",null,"Pour cela, il faut lancer le daemon via la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs daemon")," sur les deux machines.\nUne fois la commande lanc\xe9e, on peut lire le fichier sur la machine 2 :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 2\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\nBonjour ! \n")),(0,r.kt)("p",null,"Donc dans cette configuration, le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.txt")," est h\xe9berg\xe9 par le n\u0153ud IPFS sur la machine 1 et la machine 2 y acc\xe8de."),(0,r.kt)("p",null,"Maintenant, faisons une simple exp\xe9rience, \xe9teignons la machine 1, et tentons d'acc\xe9der une nouvelle fois au fichier :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 2\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\nBonjour ! \n")),(0,r.kt)("p",null,"Le fichier est toujours accessible ! Cela s'explique par l'existence d'un cache sur notre client. Ce cache est param\xe9trable via le fichier de configuration situ\xe9 \xe0 cet emplacement ",(0,r.kt)("inlineCode",{parentName:"p"},"~/.ipfs/config"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'...\n  "Datastore": {\n    "StorageMax": "10GB",\n    "StorageGCWatermark": 90,\n    "GCPeriod": "1h",\n...\n')),(0,r.kt)("p",null,"Ou en ligne de commande :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs config Datastore.StorageMax '\"5GB\"' --json\n")),(0,r.kt)("p",null,"Nous avons un cache maximum de 10\u2009Go. Le ",(0,r.kt)("em",{parentName:"p"},"garbage collector")," supprimera ce cache d\xe8s lors que nous utilisons plus de 90% du ",(0,r.kt)("inlineCode",{parentName:"p"},"StorageMax"),"."),(0,r.kt)("p",null,"En dehors de permettre \xe0 la machine 2 de lire ce fichier, ce cache a \xe9galement une autre utilit\xe9."),(0,r.kt)("p",null,"Ajoutons une 3e\u0300me machine virtuelle et tentons d'acc\xe9der au fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11"),". ",(0,r.kt)("em",{parentName:"p"},"(Sachant que la machine 1 est toujours \xe9teinte, celle-ci ne pourra pas envoyer le fichier)")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 3\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\nBonjour ! \n")),(0,r.kt)("p",null,"Le cache permet ainsi de participer \xe0 la diffusion de ce fichier ",(0,r.kt)("em",{parentName:"p"},"(sans \xeatre le n\u0153ud de premi\xe8re diffusion)"),"."),(0,r.kt)("p",null,"\xc0 l'inverse ",(0,r.kt)("em",{parentName:"p"},"(en ayant supprim\xe9 le cache de machine 3)"),", si jamais j'\xe9teins la machine 1 et 2 : le fichier devient ",(0,r.kt)("strong",{parentName:"p"},"injoignable")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 3\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\n(Pas de r\xe9ponse)\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Pas de r\xe9ponse",src:n(8610).Z,width:"661",height:"432"})),(0,r.kt)("p",null,"En r\xe9sum\xe9 : Il faut toujours une machine stockant ce fichier sur le r\xe9seau IPFS pour pouvoir acc\xe9der aux donn\xe9es."),(0,r.kt)("p",null,"Mais le cache est \xe9ph\xe9m\xe8re et sera supprim\xe9 un jour ! Ne comptez pas dessus pour relayer votre fichier."),(0,r.kt)("p",null,"Pour demander \xe0 une machine de garder le fichier et de le partager, il est n\xe9cessaire que l'on ",(0,r.kt)("strong",{parentName:"p"},"PIN")," le fichier."),(0,r.kt)("p",null,"Revenons au stade initial : ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.txt")," sur ",(0,r.kt)("em",{parentName:"p"},"machine 1"),", et rien sur machine 2 et 3."),(0,r.kt)("p",null,"Nous allons demander \xe0 la machine 2 de pin notre CID pour que celui-ci soit stock\xe9e en dehors du cache et devienne persistant sur ",(0,r.kt)("em",{parentName:"p"},"machine 2"),"."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 2\n\u279c ipfs pin add QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\npinned QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11 recursively\n")),(0,r.kt)("p",null,"\xc9teignons de nouveau ",(0,r.kt)("em",{parentName:"p"},"machine 1")," et tentons ",(0,r.kt)("em",{parentName:"p"},"(encore une fois)")," de lire le fichier ",(0,r.kt)("inlineCode",{parentName:"p"},"hello.txt")," sur la machine 3 :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# machine 3\n\u279c ipfs cat QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11\nBonjour !\n")),(0,r.kt)("p",null,"Le fichier est maintenant lisible tant que machine 1 ",(0,r.kt)("strong",{parentName:"p"},"ou")," machine 2 sont sur le r\xe9seau IPFS."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Machine 2 vers machine 3",src:n(8007).Z,width:"672",height:"443"})),(0,r.kt)("h2",{id:"r\xe9cup\xe9rer-un-fichier-sur-le-r\xe9seau-ipfs-sans-client"},"R\xe9cup\xe9rer un fichier sur le r\xe9seau IPFS sans client"),(0,r.kt)("p",null,"Il existe de nombreuses passerelles publiques permettant d'acc\xe9der \xe0 un fichier du r\xe9seau IPFS sans se connecter \xe0 un client. Le CID de mon fichier \xe9tant ",(0,r.kt)("inlineCode",{parentName:"p"},"QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11"),", je peux lire le fichier depuis Firefox via cette URL : ",(0,r.kt)("inlineCode",{parentName:"p"},"https://ipfs.io/ipfs/QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11"),"."),(0,r.kt)("p",null,"Si vous utilisez Kubo et que vous avez install\xe9 l'extension ",(0,r.kt)("inlineCode",{parentName:"p"},"IPFS Companion")," (disponible ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ipfs.tech/install/ipfs-companion/"},"ici"),"), vous serez automatiquement redirig\xe9 vers votre passerelle locale : ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/ipfs/QmNURZjTooDCUKjtegXUDF8CeowSN8VLSnPARLGXnxiv11")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Extension Firefox",src:n(9118).Z,width:"332",height:"480"})),(0,r.kt)("p",null,"Et puisque nous utilisons notre navigateur\u2026 rien ne nous emp\xeache de lire du HTML !"),(0,r.kt)("p",null,"Mon blog \xe9tant sous ",(0,r.kt)("a",{parentName:"p",href:"https://docusaurus.io/"},"Docusaurus"),", je vais alors build le site et l'ajouter \xe0 mon n\u0153ud IPFS:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone https://github.com/QJoly/TheBidouilleur.xyz\ncd TheBidouilleur.xyz\nnpm i\nnpm run build\nipfs add -r ./build\n")),(0,r.kt)("p",null,"J'obtiens le CID ",(0,r.kt)("inlineCode",{parentName:"p"},"QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x")," et j'acc\xe8de \xe0 mon site via cette URL : ",(0,r.kt)("inlineCode",{parentName:"p"},"http://localhost:8080/ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x")," ou ",(0,r.kt)("inlineCode",{parentName:"p"},"https://ipfs.io/ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x/")," ",(0,r.kt)("em",{parentName:"p"},"(Attention aux erreurs de CSS. Mon Docusaurus n'aime pas ne pas \xeatre \xe0 la racine du site)"),"."),(0,r.kt)("admonition",{title:"Pin un dossier",type:"note"},(0,r.kt)("p",{parentName:"admonition"},"\xc0 noter qu'il n'est pas n\xe9cessaire de PIN chaque \xe9l\xe9ment du dossier. Il suffit uniquement de le faire sur le dossier racine du site (",(0,r.kt)("inlineCode",{parentName:"p"},"QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x")," dans mon cas). Les fichiers \xe0 l'int\xe9rieur du r\xe9pertoire auront un 'pin indirect'."),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs pin add QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x\npinned QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x recursively\n\u279c ipfs pin ls\nQmce2mdHr1ufcGqtnR67DdshJqPCpZ6bSrXxuzQJdga1dy indirect\nQmdGAYHsqhxiwNDhkoCR5ryrd74wxGKhcgfsh9NJg5ANqH recursive  <-- Un dossier\nQmcwA7f9HRwVVMMgJRt4mDbGLbr8jruyGPJxPYmWKhFqs2 indirect\nQmednJCZK9SnxAy12rreveUqsMyP7Jfw2Aij1hFGWc3BJu indirect\n"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"ipfs.io")," est une passerelle, c'est un acc\xe8s ",(0,r.kt)("em",{parentName:"p"},"depuis le web")," permettant de lire un fichier sur le r\xe9seau IPFS. Il en existe de nombreuses, et nous verrons plus bas comment cr\xe9er la n\xf4tre."),(0,r.kt)("p",null,"Maintenant, le probl\xe8me d'h\xe9berger un site sur l'IPFS est que chaque fichier est immuable ",(0,r.kt)("em",{parentName:"p"},"(chaque entit\xe9 se lit \xe0 l'aide son hash unique)"),". Il n'est alors pas possible de modifier vos fichiers en gardant le m\xeame ",(0,r.kt)("strong",{parentName:"p"},"CID")," (et en cons\xe9quent\xa0: en changeant l'URL d'acc\xe8s), vos utilisateurs devront donc utiliser le nouveau CID pour voir la derni\xe8re version de votre site."),(0,r.kt)("p",null,"C'est pour cela qu'il existe une solution : ",(0,r.kt)("strong",{parentName:"p"},"InterPlanetary Name System")," ",(0,r.kt)("em",{parentName:"p"},"(IPNS)"),"."),(0,r.kt)("p",null,"L'",(0,r.kt)("strong",{parentName:"p"},"IPNS")," permet de faire pointer une URL vers un CID, nous pouvons mettre \xe0 jour \xe0 tout moment vers quel CID notre IPNS redirige."),(0,r.kt)("p",null,"Cette URL se forme \xe0 partir d'une cl\xe9 ",(0,r.kt)("em",{parentName:"p"},"(qui permet de vous identifier sur le r\xe9seau IPFS)"),". D\xe8s lors que vous communiquez sur le r\xe9seau : vous utilisez une cl\xe9 ed25519 (",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs key list"),") nomm\xe9e ",(0,r.kt)("inlineCode",{parentName:"p"},"self"),"."),(0,r.kt)("p",null,"Si vous souhaitez utiliser plusieurs IPNS, il est possible d'en poss\xe9der plusieurs ",(0,r.kt)("em",{parentName:"p"},"(et donc d'obtenir plusieurs 'domaines')"),", exemple:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs key gen --type=rsa --size=2048 mykey\n")),(0,r.kt)("p",null,"Pour rediriger notre IPNS ",(0,r.kt)("em",{parentName:"p"},"(\xe0 partir de la cl\xe9 ",(0,r.kt)("inlineCode",{parentName:"em"},"self"),")")," vers un CID, il faut utiliser l'argument ",(0,r.kt)("inlineCode",{parentName:"p"},"publish")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs name publish /ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x\nPublished to k51qzi5uqu5dl8idfkamiq22x12pr1rlha4i1izbi2hq5nlv3vuqt7nztq4krf: /ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x\n")),(0,r.kt)("p",null,"ou en sp\xe9cifiant la cl\xe9 :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs name publish --key=mykey /ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x\nPublished to k2k4r8jfpj0rsylz08ahbkar950da3a77wfcreiwh85hnp9op504l0e0: /ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x\n")),(0,r.kt)("admonition",{type:"danger"},(0,r.kt)("p",{parentName:"admonition"},"Attention, la syntaxe du CID est bien ",(0,r.kt)("strong",{parentName:"p"},"/ipfs/CID"),".")),(0,r.kt)("p",null,"Pour v\xe9rifier vers quoi un IPNS pointe, je peux faire un \xe9quivalent de ",(0,r.kt)("inlineCode",{parentName:"p"},"nslookup")," via ",(0,r.kt)("inlineCode",{parentName:"p"},"ipns name resolv")," :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs name resolve k51qzi5uqu5dl8idfkamiq22x12pr1rlha4i1izbi2hq5nlv3vuqt7nztq4krf\n/ipfs/QmfEyL1zeaL7fWb6ugfzzh7zzdyyP7zSkb5smAyhttuQKS\n")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"IPNS Dans mon firefox \xe0 partir de IPFS Companion",src:n(2891).Z,width:"2557",height:"350"})),(0,r.kt)("admonition",{title:"Passerelles publiques",type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"Durant l'\xe9criture de cet article, ",(0,r.kt)("strong",{parentName:"p"},"aucune passerelle publique")," n'a r\xe9ussi \xe0 m'afficher mon blog en utilisant mon ",(0,r.kt)("strong",{parentName:"p"},"IPNS"),". J'ai alors d\xfb utiliser ma passerelle locale ",(0,r.kt)("em",{parentName:"p"},"(localhost:8080)")," sur mon poste et h\xe9berger ma propre passerelle pour les machines n'ayant pas Kubo install\xe9e. ",(0,r.kt)("em",{parentName:"p"},"Nous verrons comment cr\xe9er notre passerelle plus bas.")),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("a",{parentName:"p",href:"https://ipfs.github.io/public-gateway-checker/"},"Liste des gateways publiques"))),(0,r.kt)("p",null,"Mais retenir par c\u0153ur une cl\xe9 est ",(0,r.kt)("em",{parentName:"p"},"(l\xe9g\xe8rement)")," compliqu\xe9, il est alors possible d'utiliser votre propre nom de domaine en tant qu'IPNS. Pour cela, il suffit d'ajouter une entr\xe9e ",(0,r.kt)("strong",{parentName:"p"},"TXT")," \xe0 votre nom de domaine:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-conf"},'ipfs.thebidouilleur.xyz. 60 IN TXT "dnslink=/ipfs/QmXqrXHXuKB9tHrxUgNphRx8TyKBmtrisuRB2y9FkFta7x"\n')),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"\u279c ipfs name resolve ipfs.thebidouilleur.xyz\n/ipfs/QmfEyL1zeaL7fWb6ugfzzh7zzdyyP7zSkb5smAyhttuQKS\n")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Au lieu de r\xe9guli\xe8rement \xe9diter votre entr\xe9e DNS pour changer le CID, il est \xe9galement possible d'utiliser une cl\xe9 IPNS :"),(0,r.kt)("pre",{parentName:"admonition"},(0,r.kt)("code",{parentName:"pre",className:"language-conf"},'ipfs.thebidouilleur.xyz. 60 IN TXT "dnslink=/ipns/k51qzi5uqu5di2e4jfi570at4g7qnoqx1vwsd2wc0pit1bxgxn22xwsaj5ppfr"\n')),(0,r.kt)("p",{parentName:"admonition"},"Il vous suffira donc de mettre \xe0 jour vers quel CID cet IPNS pointe via ",(0,r.kt)("inlineCode",{parentName:"p"},"ipfs name publish"),".")),(0,r.kt)("p",null,"Une instance de mon blog est ainsi joignable depuis IPFS :"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Avec l'extension navigateur IPFS: ",(0,r.kt)("inlineCode",{parentName:"li"},"ipfs.thebidouilleur.xyz")),(0,r.kt)("li",{parentName:"ul"},"Depuis une passerelle locale : ",(0,r.kt)("inlineCode",{parentName:"li"},"localhost:8080/ipns/ipfs.thebidouilleur.xyz")),(0,r.kt)("li",{parentName:"ul"},"Depuis une passerelle publique : ",(0,r.kt)("inlineCode",{parentName:"li"},"ipfs.io/ipns/ipfs.thebidouilleur.xyz")," ",(0,r.kt)("em",{parentName:"li"},"(Non-fonctionnel pour moi)"))),(0,r.kt)("h2",{id:"h\xe9berger-une-passerelle-ipfs"},"H\xe9berger une passerelle IPFS"),(0,r.kt)("p",null,"Comme expliqu\xe9 un peu plus haut, je ne parviens pas \xe0 r\xe9soudre les IPNS via les passerelles publiques."),(0,r.kt)("p",null,"J'ai d\xfb alors me tourner vers la cr\xe9ation de ma propre passerelle :"),(0,r.kt)("p",null,"Il suffira d'initier votre configuration comme ci-dessus et de modifier votre configuration comme cela\xa0:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'\u279c ipfs config --bool Swarm.RelayService.Enabled true \n\u279c ipfs config --bool Swarm.RelayClient.Enabled true\n\u279c ipfs config AutoNAT.ServiceMode \'"enabled"\' --json\n\u279c ipfs config Addresses.Gateway "/ip4/0.0.0.0/tcp/8080"\n')),(0,r.kt)("p",null,"Une fois ces commandes lanc\xe9es, vous pourrez directement r\xe9cup\xe9rer des objets IPFS dans votre navigateur via la m\xeame syntaxe que les autres passerelles. Ex: ",(0,r.kt)("inlineCode",{parentName:"p"},"http://192.168.128.10:8080/ipns/k51qzi5uqu5di2e4jfi570at4g7qnoqx1vwsd2wc0pit1bxgxn22xwsaj5ppfr"),"."),(0,r.kt)("h2",{id:"d\xe9p\xf4t-git-en-ipfs"},"D\xe9p\xf4t Git en IPFS"),(0,r.kt)("p",null,"En scrutant ",(0,r.kt)("a",{parentName:"p",href:"https://docs.ipfs.tech/how-to/host-git-repo/"},"la documentation"),", j'ai trouv\xe9 cette page qui pr\xe9sente une proc\xe9dure simple permettant de stocker un d\xe9p\xf4t Git en ",(0,r.kt)("em",{parentName:"p"},"ReadOnly"),"."),(0,r.kt)("p",null,"Nous r\xe9cup\xe9rons alors un d\xe9p\xf4t avec l'argument ",(0,r.kt)("inlineCode",{parentName:"p"},"--mirror")," permettant de r\xe9cup\xe9rer le d\xe9p\xf4t sous forme d'objets compress\xe9s. *(l'\xe9quivalent du dossier ",(0,r.kt)("inlineCode",{parentName:"p"},".git")," d'un d\xe9p\xf4t)"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git clone --mirror https://github.com/qjoly/helm-charts\n")),(0,r.kt)("p",null,"Si (comme je viens de le faire) vous avez clon\xe9 votre d\xe9p\xf4t en HTTPS ",(0,r.kt)("em",{parentName:"p"},"(et non SSH)"),", il vous faudra g\xe9n\xe9rer des fichiers auxiliaires via la commande ",(0,r.kt)("inlineCode",{parentName:"p"},"git update-server-info"),". Ces fichiers g\xe9n\xe9r\xe9s ou mis \xe0 jour par ",(0,r.kt)("inlineCode",{parentName:"p"},"git update-server-info")," sont n\xe9cessaires pour que les clients Git puissent r\xe9cup\xe9rer les objets et les r\xe9f\xe9rences du d\xe9p\xf4t."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"git update-server-info\n")),(0,r.kt)("p",null,"Nous ajoutons maintenant le dossier clon\xe9 \xe0 notre n\u0153ud IPFS :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"ipfs add -r ./helm-charts.git\nadded QmbRUdVtdtxcpdqyJE3iZwTJq7FPcXR1ErQRFB76sQCg9H helm-charts.git/HEAD\nadded QmWadTGKYEjYf5Y7wKS66fLrTQm3ViH34QFoxbu88CbkG1 helm-charts.git/config\nadded Qmdy135ZFG4kUALkaMhr6Cy3VhhkxyAh264kyg3725x8be helm-charts.git/description\nadded QmUJ43sv5NVRBmfPHBwEitpz6D46xh4E79ponctVXEeMSH helm-charts.git/hooks/applypatch-msg.sample\nadded QmeuAksU8iLW2YeirL69ibjGxkNUjWkKq5iEvWhSdeRRXF helm-charts.git/hooks/commit-msg.sample\nadded QmV1Jv4eQcHrYtf97nofmUjzaaa6hmVXVt4LsqeG3hQKx8 helm-charts.git/hooks/fsmonitor-watchman.sample\nadded QmWkzb9d617XFnahXuorAQPxRMGA8TeZB7Vyq2oBMmW52d helm-charts.git/hooks/post-update.sample\nadded QmdgKBitxhbQ3APZt3CFAnfJUMCNC5uoGLkwjgbHciKPA8 helm-charts.git/hooks/pre-applypatch.sample\nadded QmVpNrG3G8aMcdScqwAkiKan2ACx6bfR35Dn9XJ2mw3LCC helm-charts.git/hooks/pre-commit.sample\nadded QmPep4RB3J5ERq3wrwEKFLznjnJeeFPqHZUjqcT3mCHej6 helm-charts.git/hooks/pre-merge-commit.sample\nadded QmQ52euRcb4YZf8PYfajNPQAuaW8WoBgzAksUqHLLttqjk helm-charts.git/hooks/pre-push.sample\nadded QmaTMXXEbvRSmpDTKqXf6kH3yeb7TNbiu3jttyYCbFpobD helm-charts.git/hooks/pre-rebase.sample\nadded QmNgDPe6oFz5jqqqdh9YhuqReBWkuPo6gsy45nHB6mSr2j helm-charts.git/hooks/pre-receive.sample\nadded QmPgMWyjZR1FzFaB1bYAWKkYLTtC5b6DGFVKroQp5eT7Ee helm-charts.git/hooks/prepare-commit-msg.sample\nadded QmW7VnBMgFcJNVCKfSNZRL5apU8X19mp7bsL8px6zjbmGn helm-charts.git/hooks/push-to-checkout.sample\nadded QmdBgUSUM2gmuHYMsk8Xy8AkWU5orkGKeBdK9JjfSCM2tC helm-charts.git/hooks/update.sample\nadded QmcfzxUpw36y8fu2GR3s7Vgq7RBgooKtc6BgsqFnadsDLc helm-charts.git/info/exclude\nadded QmW2BhLpMEmyhmvVi5xfRcym54NQEH5RfsqAyaL47NKzr1 helm-charts.git/info/refs\nadded QmYFqkUdpTZ2TwbpRwnyo7K4zMu8Ep9wWTpKELxHS33qiQ helm-charts.git/objects/info/packs\nadded QmPd9zs6bXigRrxEfLgpdV7nRmGF6UDgGLBiU4jz1zyfm8 helm-charts.git/objects/pack/pack-7d12aca4cae291e85bdb043dcbc34cc5ecf55d2d.idx\nadded QmX7zrvm2e2cAkLiakS4r8bqWTW7u8onxLuS4BXNUrBzSz helm-charts.git/objects/pack/pack-7d12aca4cae291e85bdb043dcbc34cc5ecf55d2d.pack\nadded QmZ9Es1CLRGWzasb4w3QRfvUi7NowtA78QKVuZahrMF1ix helm-charts.git/packed-refs\nadded QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn helm-charts.git/branches\nadded QmUDWwEzg33DPr6NNxeBDKgHKaTcDfbVfJrog6HpzLXTvg helm-charts.git/hooks\nadded QmXpvGWuzK8rPGrC7sDGsy7USx6v5mWgm1zfD2FGek5mwT helm-charts.git/info\nadded QmPmEe7i3mFqU1DfkENkkH1to3QrWJD5UGSNJ7tmQ3cCUy helm-charts.git/objects/info\nadded QmaodTHHrn5BZY8zaq4Lpj5Af4CmnQKbYract1aadwP8Aq helm-charts.git/objects/pack\nadded QmfBTRmFNY3t5UP4s2bRFtmNAi4jiffcHBiokxxLeVEjzE helm-charts.git/objects\nadded QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn helm-charts.git/refs/heads\nadded QmUNLLsPACCz1vLxQVkXqqLX5R1X345qqfHbsf67hvA3Nn helm-charts.git/refs/tags\nadded QmWYtSEta2Fzgy4u4ttdwwiKMUikwZrFHxa5quWXMVyBhy helm-charts.git/refs\nadded QmVeBgcRdV5AapyRa8wcfLsk8y4xWxAL93mTmyCdrEynR5 helm-charts.git\n 491.68 KiB / 491.68 KiB [========================================================================================================================================================]\n")),(0,r.kt)("p",null,"Nous pouvons maintenant cloner notre d\xe9p\xf4t via notre n\u0153ud local :"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"# via notre passerelle locale\ngit clone http://QmVeBgcRdV5AapyRa8wcfLsk8y4xWxAL93mTmyCdrEynR5.ipfs.localhost:8080\n# via une passerelle publique\ngit clone https://ipfs.io/ipfs/QmVeBgcRdV5AapyRa8wcfLsk8y4xWxAL93mTmyCdrEynR5/\n")),(0,r.kt)("h2",{id:"conclusion"},"Conclusion"),(0,r.kt)("p",null,"J'ai d\xe9couvert l'IPFS en lisant un article sur la censure de Wikip\xe9dia en Turquie. Je n'ai pas de r\xe9el cas d'usage en dehors de rendre mes articles accessibles le jour o\xf9 je d\xe9cide de fermer mon site. Je vous laisse vous faire votre propre avis et trouver une utilit\xe9."),(0,r.kt)("p",null,"En attendant, je pense archiver quelques projets dans le r\xe9seau et d'essayer de toujours garder au moins un n\u0153ud actif."),(0,r.kt)("h3",{id:"liens-en-vrac"},"Liens en vrac"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://pypi.org/project/youtube2ipfs/"},"youtube2ipfs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/ipfs-shipyard/ipfs-deploy"},"ipfs-deploy")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/marketplace/actions/ipfs-setup-action"},"Github Action IPFS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/xmaysonnave/tiddlywiki-ipfs"},"TiddlyWiki IPFS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://cluster.ipfs.io/"},"Clusters IPFS")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://collab.ipfscluster.io/"},"Clusters Collaboratifs")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://js.ipfs.tech/"},"Javascript IPFS"))))}d.isMDXComponent=!0},425:(e,t,n)=>{n.d(t,{Z:()=>s});var a=n(7294),r=n(6010);const i="tabItem_Ymn6";function s(e){let{children:t,hidden:n,className:s}=e;return a.createElement("div",{role:"tabpanel",className:(0,r.Z)(i,s),hidden:n},t)}},3992:(e,t,n)=>{n.d(t,{Z:()=>q});var a=n(7462),r=n(7294),i=n(6010),s=n(2957),l=n(6775),u=n(5238),o=n(3609),p=n(2560);function c(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??c(n);return function(e){const t=(0,o.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function d(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.k6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,u._X)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=m(e),[s,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!d({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:i}))),[u,o]=h({queryString:n,groupId:a}),[c,f]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,p.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),k=(()=>{const e=u??c;return d({value:e,tabValues:i})?e:null})();(0,r.useLayoutEffect)((()=>{k&&l(k)}),[k]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!d({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),o(e),f(e)}),[o,f,i]),tabValues:i}}var k=n(1048);const g="tabList__CuJ",b="tabItem_LNqP";function v(e){let{className:t,block:n,selectedValue:l,selectValue:u,tabValues:o}=e;const p=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.o5)(),m=e=>{const t=e.currentTarget,n=p.indexOf(t),a=o[n].value;a!==l&&(c(t),u(a))},d=e=>{var t;let n=null;switch(e.key){case"Enter":m(e);break;case"ArrowRight":{const t=p.indexOf(e.currentTarget)+1;n=p[t]??p[0];break}case"ArrowLeft":{const t=p.indexOf(e.currentTarget)-1;n=p[t]??p[p.length-1];break}}null==(t=n)||t.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.Z)("tabs",{"tabs--block":n},t)},o.map((e=>{let{value:t,label:n,attributes:s}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:l===t?0:-1,"aria-selected":l===t,key:t,ref:e=>p.push(e),onKeyDown:d,onClick:m},s,{className:(0,i.Z)("tabs__item",b,null==s?void 0:s.className,{"tabs__item--active":l===t})}),n??t)})))}function N(e){let{lazy:t,children:n,selectedValue:a}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function y(e){const t=f(e);return r.createElement("div",{className:(0,i.Z)("tabs-container",g)},r.createElement(v,(0,a.Z)({},e,t)),r.createElement(N,(0,a.Z)({},e,t)))}function q(e){const t=(0,k.Z)();return r.createElement(y,(0,a.Z)({key:String(t)},e))}},3568:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/RecupIPFSFichier-ba83580a4be7732282af4d6a487598f4.png"},9760:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Web-trad-cb067ed642767da59f6535523158350b.png"},8755:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/fichier-vers-ipfs-41e4372394741cb73b5806a7e0ced690.png"},9118:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ipfs-compagnion-3c045f8e586745a8df400d19969132f8.png"},9776:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ipfs-decentralisation-e5de56688e00565087543369a2ad1cfe.png"},2714:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ipfs-transfert-d8a0c646df60248de977fe8bdf177856.png"},2891:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/ipns-12dc56a8113a8bb590b946d35081d0e7.png"},717:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/kubo-web-260728357495e547d64f6bf8b8bd5a4a.png"},8007:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/machine2-vers-machine3-9f76ca326d528ee377d56314c59b25d9.png"},8610:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/machine3-pas-de-reponse-5c47422b0edc9b144bca9310950ed9f8.png"}}]);